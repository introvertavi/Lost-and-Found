<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Report Item | Lost & Found</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<link rel="stylesheet" href="assets/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

<div id="navbar"></div>


<!-- HERO -->
<section class="container hero text-center my-4 my-md-5">
<h1 class="fw-bold">
<i class="bi bi-plus-circle"></i> Report Lost / Found Item
</h1>

<p class="hero-subtitle">
Submit item details so others can identify and claim it.
</p>
</section>



<!-- FORM -->
<section class="container my-4 my-md-5">
<div class="row justify-content-center">

<!-- MOBILE SAFE WIDTH -->
<div class="col-12 col-md-10 col-lg-8">

<div class="card shadow-sm p-3 p-md-4 rounded-4">

<h4 class="fw-bold mb-4">
<i class="bi bi-pencil-square"></i> Item Information
</h4>

<form id="reportForm">


<!-- TYPE -->
<div class="mb-4">
<label class="form-label fw-semibold">Item Type</label>

<div class="btn-group w-100">
<input type="radio" class="btn-check" name="type" id="lostBtn" value="Lost" required>
<label class="btn btn-outline-danger" for="lostBtn">Lost Item</label>

<input type="radio" class="btn-check" name="type" id="foundBtn" value="Found">
<label class="btn btn-outline-success" for="foundBtn">Found Item</label>
</div>
</div>



<!-- NAME -->
<div class="mb-3">
<label class="form-label">Your Name</label>
<input type="text" class="form-control" id="person" required>
</div>



<!-- ITEM + LOCATION -->
<div class="row">

<div class="col-12 col-md-6 mb-3">
<label class="form-label">Item Name</label>
<input type="text" class="form-control" id="name" required>
</div>

<div class="col-12 col-md-6 mb-3">
<label class="form-label">Location</label>
<input type="text" class="form-control" id="location" required>
</div>

</div>



<!-- DATE + EMAIL -->
<div class="row">

<div class="col-12 col-md-6 mb-3">
<label class="form-label">Date</label>
<input type="date" class="form-control" id="date" required>
</div>

<div class="col-12 col-md-6 mb-3">
<label class="form-label">Your Email</label>
<input type="email" class="form-control" id="email" required>
</div>

</div>



<!-- DESCRIPTION -->
<div class="mb-3">
<label class="form-label">Description</label>
<textarea class="form-control" id="desc" rows="3"></textarea>
</div>



<!-- IMAGE -->
<div class="mb-4">
<label class="form-label">Upload Item Photo</label>

<input type="file" class="form-control" id="image" accept="image/*">

<div class="text-center mt-3">
<img id="preview" class="rounded shadow-sm border img-fluid" style="max-width:240px; display:none;">
</div>
</div>



<button class="btn btn-primary w-100 py-2 fw-semibold">
<i class="bi bi-send"></i> Submit Report
</button>

</form>

</div>
</div>
</div>
</section>



<!-- FOOTER -->
<footer class="footer mt-5">
<div class="container text-center">
<div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px;">
<p class="mb-1 fw-semibold">Lost & Found Portal</p>
<p class="small mb-0">© 2026 | Web Technology Mini Project</p>
</div>
</div>
</footer>



<script src="assets/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/main.js"></script>


<script>

// auto-fill today's date
document.getElementById("date").value =
new Date().toISOString().split("T")[0];


// IMAGE PREVIEW
document.getElementById("image").addEventListener("change", function(){

const file = this.files[0];

if(file){

const reader = new FileReader();

reader.onload = function(e){
const preview = document.getElementById("preview");
preview.src = e.target.result;
preview.style.display = "block";
};

reader.readAsDataURL(file);

}

});



// SAVE REPORT
document.getElementById("reportForm").addEventListener("submit", function(e){

e.preventDefault();

const file = document.getElementById("image").files[0];

if(file){

const reader = new FileReader();

reader.onload = function(e){
saveReport(e.target.result);
};

reader.readAsDataURL(file);

}else{
saveReport("");
}

function saveReport(img){

const report = {

id: "report_" + Date.now(),
type: document.querySelector('input[name="type"]:checked').value,
person: document.getElementById("person").value,
name: document.getElementById("name").value,
location: document.getElementById("location").value,
date: document.getElementById("date").value,
description: document.getElementById("desc").value,
email: document.getElementById("email").value,
image: img,
time: new Date().toLocaleString()

};

let reports = JSON.parse(localStorage.getItem("reportedItems")) || [];
reports.push(report);
localStorage.setItem("reportedItems", JSON.stringify(reports));

document.getElementById("reportForm").innerHTML = `
<div class="text-center p-4">
<h4 class="text-success">✅ Report Submitted Successfully</h4>
<p class="text-muted">Your item has been recorded.</p>

<a href="index.html" class="btn btn-primary mt-3">
Return Home
</a>
</div>
`;

}

});

</script>

</body>
</html>
